<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ title }} - СК "Вершина"</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <style>
    .news-list-page-container{max-width:900px;margin:30px auto;padding:20px;}
    .news-list-page-container h1{
      margin-bottom:30px;text-align:center;border-bottom:1px solid #eee;padding-bottom:20px;
    }

    .news-list-item{
      background:#fff;border-radius:8px;margin-bottom:24px;padding:20px;
      box-shadow:0 2px 8px rgba(0,0,0,.08);display:flex;gap:20px;align-items:flex-start;
      transition:transform .2s ease, box-shadow .2s ease;
    }
    .news-list-item:hover{ transform:translateY(-2px); box-shadow:0 6px 18px rgba(0,0,0,.10); }

    .news-thumbnail-container{flex-shrink:0;width:min(260px,42%);}
    .news-thumbnail{
      width:100%;height:180px;object-fit:cover;border-radius:6px;display:block;
    }

    .news-content-summary{flex:1;min-width:0;}
    .news-content-summary h3{margin:0 0 6px;}
    .news-content-summary h3 a{
      color:#0d2c4e;text-decoration:none;font-size:22px;font-family:'Montserrat',sans-serif;
    }
    .news-content-summary h3 a:hover{ color:#005A9C; }
    .pub-date{ color:#777;font-size:.85em;display:block;margin:0 0 10px; }
    .news-snippet{ font-size:.95em;line-height:1.6;margin:0 0 12px; }
    .read-more-link{ color:#005A9C;text-decoration:none;font-weight:700; }
    .read-more-link:hover{ text-decoration:underline; }

    @media (max-width: 700px){
      .news-list-item{ flex-direction:column; }
      .news-thumbnail-container{ width:100%; }
      .news-thumbnail{ height:200px; }
    }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="container">
      <div class="logo"><a href="{{ url_for('index') }}">СК "Вершина"</a></div>

      <nav id="main-nav" class="main-nav" aria-label="Основная навигация">
        <ul>
          <li><a href="{{ url_for('ski_resort') }}">Горнолыжная база</a></li>
          <li><a href="{{ url_for('gym') }}">Тренажерный зал</a></li>
          <li><a href="{{ url_for('courses') }}">Видеокурсы</a></li>
          <li><a href="{{ url_for('news_list_all') }}" class="active">Новости</a></li>
          <li><a href="{{ url_for('contacts_page') }}">Контакты</a></li>
        </ul>
      </nav>

      <button id="burger-menu"
              class="burger-menu"
              aria-label="Открыть меню"
              aria-controls="main-nav"
              aria-expanded="false">
        <span></span><span></span><span></span>
      </button>
    </div>
  </header>

  <main>
    <div class="news-list-page-container">
      <h1>{{ title }}</h1>

      {% if articles %}
        {% for article in articles %}
          <article class="news-list-item">
            {% if article.image_path %}
              <div class="news-thumbnail-container">
                <a href="{{ url_for('news_article_detail', article_id=article.id) }}">
                  <img
                    src="{{ media_url(article.image_path) }}"
                    alt="{{ article.title }}"
                    class="news-thumbnail"
                    loading="lazy">
                </a>
              </div>
            {% endif %}

            <div class="news-content-summary">
              <h3>
                <a href="{{ url_for('news_article_detail', article_id=article.id) }}">
                  {{ article.title }}
                </a>
              </h3>
              <span class="pub-date">Опубликовано: {{ article.pub_date.strftime('%d.%m.%Y') }}</span>
              <p class="news-snippet">
                {{ article.content | striptags | truncate(300, True, '...') }}
              </p>
              <a href="{{ url_for('news_article_detail', article_id=article.id) }}" class="read-more-link">
                Читать полностью &rarr;
              </a>
            </div>
          </article>
        {% endfor %}
      {% else %}
        <p style="text-align:center;">Новостей пока нет. Загляните позже!</p>
      {% endif %}
    </div>
  </main>

  <footer id="contacts-section" class="site-footer">
    <div class="container">
      <div class="footer-widget">
        <h4>Контакты</h4>
        <p>Адрес: г. Горный, ул. Снежная, д. 1</p>
        <p>Телефон: +7 (707) 123-45-67</p>
        <p>Email: info@vershina-club.kz</p>
      </div>
      <div class="footer-widget">
        <h4>Мы в соцсетях</h4>
        <ul class="social-links">
          <li><a href="#">Instagram</a></li>
          <li><a href="#">VK</a></li>
          <li><a href="#">Telegram</a></li>
        </ul>
      </div>
    </div>
    <div class="copyright">
      <p>&copy; 2025, СК "Вершина". Все права защищены.</p>
    </div>
  </footer>

  <script src="{{ url_for('static', filename='script.js') }}" defer></script>
</body>
</html>


